# Update these with your Supabase details from your project settings > API
# https://app.supabase.com/project/_/settings/api
NEXT_PUBLIC_SUPABASE_URL=https://ndqslssmvlnmvrbrajub.supabase.co
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY=sb_publishable_qL9l2PlkcPCXMz_xV5iddQ_r6gt82_S

# Server-side (for cron / admin jobs)
# Supabase Dashboard -> Project Settings -> API -> service_role key
SUPABASE_SERVICE_ROLE_KEY=

# Cron security
# Used by /api/knowledge/topics/nightly-refresh and the Scheduled Edge Function.
KNOWLEDGE_CRON_SECRET=

# Supabase Scheduled Edge Function only
# The full URL of your deployed app endpoint:
#   https://<your-app-domain>/api/knowledge/topics/nightly-refresh
SMART_TOPICS_REFRESH_URL=

# AI Services
OPENAI_API_KEY=your_openai_api_key
OPENAI_API_BASE_URL=https://api.deepseek.com/v1
OPENAI_MODEL=deepseek-chat

# Knowledge Smart Topics (P1)
# 默认会复用 OPENAI_* 做 embeddings + topic naming。
# 但很多 Chat-only provider（例如 DeepSeek 的某些网关）不提供 /embeddings，会导致 404。
# 建议：聊天继续用 OPENAI_*，embedding 单独配置 KNOWLEDGE_EMBEDDING_* 指向支持 embeddings 的 provider。
KNOWLEDGE_EMBEDDING_API_KEY=
KNOWLEDGE_EMBEDDING_BASE_URL=https://api.openai.com/v1
KNOWLEDGE_EMBEDDING_MODEL=text-embedding-3-small

KNOWLEDGE_TOPIC_NAMING_API_KEY=
KNOWLEDGE_TOPIC_NAMING_BASE_URL=
KNOWLEDGE_TOPIC_NAMING_MODEL=

# Smart Topics incremental matching
# 仅当新聚类簇与某个旧专题的 cosine 相似度 >= 阈值时，才复用旧专题；否则创建新专题。
KNOWLEDGE_TOPIC_MATCH_THRESHOLD=0.85

# Tencent Cloud (for ASR)
TENCENT_SECRET_ID=your_tencent_secret_id
TENCENT_SECRET_KEY=your_tencent_secret_key

# Jina Reader (用于高质量网页内容抓取)
# 获取 API Key: https://jina.ai/reader/
# 免费额度: 1000次/月，付费套餐: $20/月 (10000次)
JINA_API_KEY=your_jina_api_key
